{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Francisco Javier\\\\Documents\\\\Proyectos\\\\drumMachine\\\\drumMachine\\\\src\\\\childComponents\\\\volumeSl.js\";\nimport React from 'react';\nimport VolumeSlider from './volumeSlider';\nimport './VolumeSl.css';\n\nclass Knob extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.startDrag = e => {\n      e.preventDefault();\n      const knob = e.target.getBoundingClientRect();\n      const pts = {\n        x: knob.left + knob.width / 2,\n        y: knob.top + knob.height / 2\n      };\n\n      const moveHandler = e => {\n        this.currentDeg = this.getDeg(e.clientX, e.clientY, pts);\n        if (this.currentDeg === this.startAngle) this.currentDeg--;\n        let newValue = Math.floor(this.convertRange(this.startAngle, this.endAngle, this.props.min, this.props.max, this.currentDeg));\n        this.setState({\n          deg: this.currentDeg\n        });\n        this.props.onChange(newValue);\n      };\n\n      document.addEventListener(\"mousemove\", moveHandler);\n      document.addEventListener(\"mouseup\", e => {\n        document.removeEventListener(\"mousemove\", moveHandler);\n      });\n    };\n\n    this.getDeg = (cX, cY, pts) => {\n      const x = cX - pts.x;\n      const y = cY - pts.y;\n      let deg = Math.atan(y / x) * 180 / Math.PI;\n\n      if (x < 0 && y >= 0 || x < 0 && y < 0) {\n        deg += 90;\n      } else {\n        deg += 270;\n      }\n\n      let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle);\n      return finalDeg;\n    };\n\n    this.convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\n      return (oldValue - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;\n    };\n\n    this.renderTicks = () => {\n      let ticks = [];\n      const incr = this.fullAngle / this.props.numTicks;\n      const size = this.margin + this.props.size / 2;\n\n      for (let deg = this.startAngle; deg <= this.endAngle; deg += incr) {\n        const tick = {\n          deg: deg,\n          tickStyle: {\n            height: size + 10,\n            left: size - 1,\n            top: size + 2,\n            transform: \"rotate(\" + deg + \"deg)\",\n            transformOrigin: \"top\"\n          }\n        };\n        ticks.push(tick);\n      }\n\n      return ticks;\n    };\n\n    this.dcpy = o => {\n      return JSON.parse(JSON.stringify(o));\n    };\n\n    this.fullAngle = props.degrees;\n    this.startAngle = (360 - props.degrees) / 2;\n    this.endAngle = this.startAngle + props.degrees;\n    this.margin = props.size * 0.15;\n    this.currentDeg = Math.floor(this.convertRange(props.min, props.max, this.startAngle, this.endAngle, props.value));\n    this.state = {\n      deg: this.currentDeg\n    };\n  }\n\n  render() {\n    let kStyle = {\n      width: this.props.size,\n      height: this.props.size\n    };\n    let iStyle = this.dcpy(kStyle);\n    let oStyle = this.dcpy(kStyle);\n    oStyle.margin = this.margin;\n\n    if (this.props.color) {\n      oStyle.backgroundImage = \"radial-gradient(100% 70%,hsl(210, \" + this.currentDeg + \"%, \" + this.currentDeg / 5 + \"%),hsl(\" + Math.random() * 100 + \",20%,\" + this.currentDeg / 36 + \"%))\";\n    }\n\n    iStyle.transform = \"rotate(\" + this.state.deg + \"deg)\";\n    return React.createElement(\"div\", {\n      className: \"knob\",\n      style: kStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ticks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.props.numTicks ? this.renderTicks().map((tick, i) => React.createElement(\"div\", {\n      key: i,\n      className: \"tick\" + (tick.deg <= this.currentDeg ? \" active\" : \"\"),\n      style: tick.tickStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })) : null), React.createElement(\"div\", {\n      className: \"knob outer\",\n      style: oStyle,\n      onMouseDown: this.startDrag,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"knob inner\",\n      style: iStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nKnob.defaultProps = {\n  size: 150,\n  min: 10,\n  max: 30,\n  numTicks: 0,\n  degrees: 270,\n  value: 0\n};\nexport default Knob;","map":{"version":3,"sources":["C:\\Users\\Francisco Javier\\Documents\\Proyectos\\drumMachine\\drumMachine\\src\\childComponents\\volumeSl.js"],"names":["React","VolumeSlider","Knob","Component","constructor","props","startDrag","e","preventDefault","knob","target","getBoundingClientRect","pts","x","left","width","y","top","height","moveHandler","currentDeg","getDeg","clientX","clientY","startAngle","newValue","Math","floor","convertRange","endAngle","min","max","setState","deg","onChange","document","addEventListener","removeEventListener","cX","cY","atan","PI","finalDeg","oldMin","oldMax","newMin","newMax","oldValue","renderTicks","ticks","incr","fullAngle","numTicks","size","margin","tick","tickStyle","transform","transformOrigin","push","dcpy","o","JSON","parse","stringify","degrees","value","state","render","kStyle","iStyle","oStyle","color","backgroundImage","random","map","i","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport VolumeSlider from './volumeSlider';\r\nimport './VolumeSl.css';\r\n\r\nclass Knob extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.fullAngle = props.degrees;\r\n      this.startAngle = (360 - props.degrees) / 2;\r\n      this.endAngle = this.startAngle + props.degrees;\r\n      this.margin = props.size * 0.15;\r\n      this.currentDeg = Math.floor(\r\n        this.convertRange(\r\n          props.min,\r\n          props.max,\r\n          this.startAngle,\r\n          this.endAngle,\r\n          props.value\r\n        )\r\n      );\r\n      this.state = { deg: this.currentDeg };\r\n    }\r\n  \r\n    startDrag = e => {\r\n      e.preventDefault();\r\n      const knob = e.target.getBoundingClientRect();\r\n      const pts = {\r\n        x: knob.left + knob.width / 2,\r\n        y: knob.top + knob.height / 2\r\n      };\r\n      const moveHandler = e => {\r\n        this.currentDeg = this.getDeg(e.clientX, e.clientY, pts);\r\n        if (this.currentDeg === this.startAngle) this.currentDeg--;\r\n        let newValue = Math.floor(\r\n          this.convertRange(\r\n            this.startAngle,\r\n            this.endAngle,\r\n            this.props.min,\r\n            this.props.max,\r\n            this.currentDeg\r\n          )\r\n        );\r\n        this.setState({ deg: this.currentDeg });\r\n        this.props.onChange(newValue);\r\n      };\r\n      document.addEventListener(\"mousemove\", moveHandler);\r\n      document.addEventListener(\"mouseup\", e => {\r\n        document.removeEventListener(\"mousemove\", moveHandler);\r\n      });\r\n    };\r\n  \r\n    getDeg = (cX, cY, pts) => {\r\n      const x = cX - pts.x;\r\n      const y = cY - pts.y;\r\n      let deg = Math.atan(y / x) * 180 / Math.PI;\r\n      if ((x < 0 && y >= 0) || (x < 0 && y < 0)) {\r\n        deg += 90;\r\n      } else {\r\n        deg += 270;\r\n      }\r\n      let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle);\r\n      return finalDeg;\r\n    };\r\n  \r\n    convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\r\n      return (oldValue - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;\r\n    };\r\n  \r\n    renderTicks = () => {\r\n      let ticks = [];\r\n      const incr = this.fullAngle / this.props.numTicks;\r\n      const size = this.margin + this.props.size / 2;\r\n      for (let deg = this.startAngle; deg <= this.endAngle; deg += incr) {\r\n        const tick = {\r\n          deg: deg,\r\n          tickStyle: {\r\n            height: size + 10,\r\n            left: size - 1,\r\n            top: size + 2,\r\n            transform: \"rotate(\" + deg + \"deg)\",\r\n            transformOrigin: \"top\"\r\n          }\r\n        };\r\n        ticks.push(tick);\r\n      }\r\n      return ticks;\r\n    };\r\n  \r\n    dcpy = o => {\r\n      return JSON.parse(JSON.stringify(o));\r\n    };\r\n  \r\n    render() {\r\n      let kStyle = {\r\n        width: this.props.size,\r\n        height: this.props.size\r\n      };\r\n      let iStyle = this.dcpy(kStyle);\r\n      let oStyle = this.dcpy(kStyle);\r\n      oStyle.margin = this.margin;\r\n      if (this.props.color) {\r\n        oStyle.backgroundImage =\r\n          \"radial-gradient(100% 70%,hsl(210, \" +\r\n          this.currentDeg +\r\n          \"%, \" +\r\n          this.currentDeg / 5 +\r\n          \"%),hsl(\" +\r\n          Math.random() * 100 +\r\n          \",20%,\" +\r\n          this.currentDeg / 36 +\r\n          \"%))\";\r\n      }\r\n      iStyle.transform = \"rotate(\" + this.state.deg + \"deg)\";\r\n  \r\n      return (\r\n        <div className=\"knob\" style={kStyle}>\r\n          <div className=\"ticks\">\r\n            {this.props.numTicks\r\n              ? this.renderTicks().map((tick, i) => (\r\n                  <div\r\n                    key={i}\r\n                    className={\r\n                      \"tick\" + (tick.deg <= this.currentDeg ? \" active\" : \"\")\r\n                    }\r\n                    style={tick.tickStyle}\r\n                  />\r\n                ))\r\n              : null}\r\n          </div>\r\n          <div className=\"knob outer\" style={oStyle} onMouseDown={this.startDrag}>\r\n            <div className=\"knob inner\" style={iStyle}>\r\n              <div className=\"grip\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  Knob.defaultProps = {\r\n    size: 150,\r\n    min: 10,\r\n    max: 30,\r\n    numTicks: 0,\r\n    degrees: 270,\r\n    value: 0\r\n  };\r\n\r\n  export default Knob;\r\n  "]},"metadata":{},"sourceType":"module"}